[gd_scene load_steps=18 format=3 uid="uid://vevtag5f0dnh"]

[ext_resource type="Texture2D" uid="uid://bo6v2ka4acp8g" path="res://art/icon.svg" id="1_fuej0"]
[ext_resource type="PackedScene" uid="uid://ce08gjhvd82ms" path="res://scenes/player_3d.tscn" id="1_qudg5"]
[ext_resource type="Shader" uid="uid://bjl42yspei5n7" path="res://shaders/psx.gdshader" id="3_482ig"]
[ext_resource type="AudioStream" uid="uid://bo1axq3hyu0ww" path="res://sounds/ULTRAKILL_OST.mp3" id="6_bygsx"]
[ext_resource type="PackedScene" uid="uid://b184d120wwcww" path="res://scenes/test_enemy.tscn" id="7_tsfeg"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_4xowi"]
sky_top_color = Color(0, 0, 0, 1)
sky_horizon_color = Color(0.648107, 0.684606, 0.624057, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_a202f"]
sky_material = SubResource("ProceduralSkyMaterial_4xowi")

[sub_resource type="Environment" id="Environment_noarx"]
background_mode = 2
sky = SubResource("Sky_a202f")
tonemap_mode = 2
glow_enabled = true
fog_light_color = Color(0.113368, 0.0609869, 0.0583537, 1)
adjustment_color_correction = ExtResource("1_fuej0")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_bygsx"]
render_priority = 0
shader = ExtResource("3_482ig")
shader_parameter/affine_mapping = false
shader_parameter/alpha_scissor = 0.5
shader_parameter/jitter = 0.25
shader_parameter/resolution = Vector2i(320, 240)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_tsfeg"]
material = SubResource("ShaderMaterial_bygsx")
rings = 2

[sub_resource type="NavigationMesh" id="NavigationMesh_5ax7r"]
vertices = PackedVector3Array(-15.552258, -0.50573194, -19.65189, -15.552258, -0.50573194, 31.34811, 35.197742, -0.50573194, 31.34811, 35.197742, -0.50573194, -19.65189)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
cell_height = 0.01

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5ax7r"]
albedo_color = Color(0.076835774, 0.07683583, 0.07683582, 1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_qejwk"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4lc55"]
albedo_color = Color(0.41568628, 0.003921569, 0.011764706, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_482ig"]
albedo_color = Color(0.41568628, 0.003921569, 0.011764706, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bygsx"]
albedo_color = Color(0.41467565, 0.005429618, 0.012458838, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tsfeg"]
albedo_color = Color(0.41568628, 0.003921569, 0.011764706, 1)

[node name="boss_battle" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_noarx")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.396677, 0.304381, 0, 0.608761, 0.793353, -0.5, 0.687064, -0.527203, 0, 0, 0)
shadow_enabled = true
directional_shadow_split_1 = 0.657

[node name="player_3D" parent="." instance=ExtResource("1_qudg5")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 0, 2.862033, 6.8307405)
boss_path = NodePath("../test_enemy")

[node name="MeshInstance3D" parent="player_3D" index="0"]
mesh = SubResource("CapsuleMesh_tsfeg")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.04794471, -0.029318418, -0.08749535)
navigation_mesh = SubResource("NavigationMesh_5ax7r")

[node name="floor" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(11.685, 0, 0, 0, 11.685, 0, 0, 0, 11.685, 9.81329, -0.679542, 5.92891)
use_collision = true
size = Vector3(4.51143, 0.0267334, 4.54837)
material = SubResource("StandardMaterial3D_5ax7r")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/floor"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/floor/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_qejwk")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0419728, 0.0293183, 0.0869086)
use_collision = true

[node name="wall" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 35.9646, 2.5333369, 5.85495)
use_collision = true
size = Vector3(0.343528, 9.72934, 52.3945)
material = SubResource("StandardMaterial3D_4lc55")

[node name="wall2" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.84003, 2.8010688, 32.1683)
use_collision = true
size = Vector3(52.5982, 9.7170105, 0.434998)
material = SubResource("StandardMaterial3D_482ig")

[node name="wall3" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.77572, 2.488028, -20.459236)
use_collision = true
size = Vector3(52.7399, 10.322357, 0.434998)
material = SubResource("StandardMaterial3D_bygsx")

[node name="wall4" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.3818, 2.843972, 5.85913)
use_collision = true
size = Vector3(0.343528, 9.733002, 52.2334)
material = SubResource("StandardMaterial3D_tsfeg")

[node name="test_enemy" parent="." instance=ExtResource("7_tsfeg")]
transform = Transform3D(-0.61312157, 0, 0.3480042, 0, 0.705, 0, -0.3480042, 0, -0.61312157, 4.274521, -0.47943485, -4.863726)
player_path = NodePath("../player_3D")

[node name="CollisionShape3D" parent="test_enemy" index="0"]
transform = Transform3D(1, 0, -2.9802322e-08, 0, 1, 0, 2.9802322e-08, 0, 1, 0, 0.9530562, 0)

[node name="Skeleton3D" parent="test_enemy/Armature" index="0"]
bones/0/position = Vector3(0.052401204, -0.7829306, -102.70796)
bones/0/rotation = Quaternion(-0.7198633, 0.018027477, -0.0013710363, 0.69388044)
bones/1/rotation = Quaternion(0.01005786, 0.01739431, -0.0027500147, 0.9997944)
bones/2/rotation = Quaternion(0.0054448363, 0.004878577, 0.0007442418, 0.999973)
bones/3/rotation = Quaternion(0.0054548196, 0.0048445356, 0.000716749, 0.9999732)
bones/4/rotation = Quaternion(0.026897708, -0.004359064, 1.7042814e-05, 0.9996287)
bones/5/rotation = Quaternion(-0.029335238, -0.038267244, -0.021530136, 0.9986048)
bones/7/rotation = Quaternion(-0.6297767, -0.3403485, 0.61320406, -0.33395356)
bones/8/rotation = Quaternion(0.4198346, 0.0843024, -0.023755321, 0.9033647)
bones/9/rotation = Quaternion(0.00467499, -0.005799058, 0.06817528, 0.9976456)
bones/10/rotation = Quaternion(-0.026900783, 0.14276178, -0.022009378, 0.9891467)
bones/12/rotation = Quaternion(0.09994798, 0.025978709, -0.20600747, 0.97308606)
bones/13/rotation = Quaternion(-0.21086945, -0.00617293, 0.20373268, 0.95602775)
bones/15/rotation = Quaternion(0.2598724, -0.0015619639, 0.03848285, 0.9648746)
bones/16/rotation = Quaternion(0.26467454, -0.00084540166, -0.06459059, 0.962172)
bones/17/rotation = Quaternion(0.15647161, 0.003537331, -0.019889163, 0.9874759)
bones/19/rotation = Quaternion(0.3279011, 0.00540933, -0.007910637, 0.94466347)
bones/20/rotation = Quaternion(0.27965295, -0.00053318124, -0.058416482, 0.9583223)
bones/21/rotation = Quaternion(0.191127, 0.0025720294, -0.029502245, 0.98111856)
bones/23/rotation = Quaternion(0.33595037, 0.015528338, -0.05181071, 0.9403255)
bones/24/rotation = Quaternion(0.3594275, -0.0013372824, -0.060377702, 0.9312168)
bones/25/rotation = Quaternion(0.14876859, 0.00020447583, -0.028260749, 0.9884681)
bones/27/rotation = Quaternion(0.31066477, -0.015460122, -0.044226453, 0.94936424)
bones/28/rotation = Quaternion(0.25091162, 0.000445106, -0.04512596, 0.96695757)
bones/29/rotation = Quaternion(0.18052684, -0.0005802326, -0.03121496, 0.9830745)
bones/31/rotation = Quaternion(0.6117927, -0.35690954, 0.62323654, 0.33151436)
bones/32/rotation = Quaternion(0.3888576, -0.04595469, -0.08438913, 0.9162732)
bones/33/rotation = Quaternion(0.012653498, 0.005480626, -0.17532972, 0.9844132)
bones/34/rotation = Quaternion(-0.019552505, 0.0024174112, -0.023181219, 0.9995371)
bones/36/rotation = Quaternion(0.03472427, -0.033630796, 0.2656355, 0.96286094)
bones/37/rotation = Quaternion(-0.13629411, -0.07024148, -0.13032931, 0.979543)
bones/39/rotation = Quaternion(0.18170723, -0.0030033116, -0.044010274, 0.9823628)
bones/40/rotation = Quaternion(0.35146475, 0.0007717012, 0.056133598, 0.9345165)
bones/41/rotation = Quaternion(0.16190165, -0.0029291804, 0.00950866, 0.9867568)
bones/43/rotation = Quaternion(0.292034, -0.0059497086, -0.007197376, 0.9563624)
bones/44/rotation = Quaternion(0.32769498, 0.0012444227, 0.049993217, 0.9434591)
bones/45/rotation = Quaternion(0.12862317, -0.0009194626, 0.019582545, 0.9914998)
bones/47/rotation = Quaternion(0.34092727, -0.014376423, 0.031167021, 0.93946296)
bones/48/rotation = Quaternion(0.29271263, 0.000687806, 0.04034755, 0.9553486)
bones/49/rotation = Quaternion(0.1500927, -0.0004911651, 0.02120487, 0.98844445)
bones/51/rotation = Quaternion(0.36873287, 0.006888648, 0.0140141, 0.92940426)
bones/52/rotation = Quaternion(0.32723305, -0.00022492754, 0.04203718, 0.9440082)
bones/53/rotation = Quaternion(0.22602975, 0.00045561916, 0.03016483, 0.97365314)
bones/55/rotation = Quaternion(0.031253897, 0.23820898, 0.9705866, 0.015539905)
bones/56/rotation = Quaternion(-0.36407244, -0.058679644, 0.016696766, 0.9293703)
bones/57/rotation = Quaternion(0.49040768, -0.08196432, 0.08550744, 0.86340636)
bones/58/rotation = Quaternion(0.28965986, -0.046615127, 0.013473448, 0.9558989)
bones/60/rotation = Quaternion(-0.08751028, -0.011610378, 0.99608344, -0.005012699)
bones/61/rotation = Quaternion(-0.1500085, 0.0036481135, 0.010163997, 0.9886257)
bones/62/rotation = Quaternion(0.58094525, 0.06133812, -0.14205198, 0.79910046)
bones/63/rotation = Quaternion(0.32372913, 0.059904568, -0.01494262, 0.9441333)

[node name="game_music" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_bygsx")
volume_db = -18.464
autoplay = true

[editable path="player_3D"]
[editable path="test_enemy"]
