[gd_scene load_steps=24 format=3 uid="uid://vevtag5f0dnh"]

[ext_resource type="Texture2D" uid="uid://bo6v2ka4acp8g" path="res://art/icon.svg" id="1_fuej0"]
[ext_resource type="PackedScene" uid="uid://ce08gjhvd82ms" path="res://scenes/player_3d.tscn" id="1_qudg5"]
[ext_resource type="PackedScene" uid="uid://7ourhq0gg24r" path="res://scenes/boss.tscn" id="2_qejwk"]
[ext_resource type="Shader" uid="uid://bjl42yspei5n7" path="res://shaders/psx.gdshader" id="3_482ig"]
[ext_resource type="Material" uid="uid://xqa74odaww10" path="res://materials/concrete.tres" id="4_482ig"]
[ext_resource type="Texture2D" uid="uid://dco1xkitdq0cu" path="res://art/playerGrey_up1.png" id="6_bygsx"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_4xowi"]
sky_top_color = Color(0, 0, 0, 1)
sky_horizon_color = Color(0.648107, 0.684606, 0.624057, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_a202f"]
sky_material = SubResource("ProceduralSkyMaterial_4xowi")

[sub_resource type="Environment" id="Environment_noarx"]
background_mode = 2
sky = SubResource("Sky_a202f")
tonemap_mode = 2
glow_enabled = true
fog_light_color = Color(0.113368, 0.0609869, 0.0583537, 1)
adjustment_color_correction = ExtResource("1_fuej0")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_bygsx"]
render_priority = 0
shader = ExtResource("3_482ig")
shader_parameter/affine_mapping = false
shader_parameter/alpha_scissor = 0.5
shader_parameter/jitter = 0.25
shader_parameter/resolution = Vector2i(320, 240)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_tsfeg"]
material = SubResource("ShaderMaterial_bygsx")
rings = 2

[sub_resource type="NavigationMesh" id="NavigationMesh_fuej0"]
vertices = PackedVector3Array(-1.04474, -0.0857319, -9.39494, 0.955259, -0.0857319, -9.64494, 0.955259, -0.0857319, -20.1449, -16.0447, -0.0857319, -7.39494, -1.04474, -0.0857319, -7.39494, -16.0447, -0.0857319, -20.1449, 6.70526, -0.0857319, -7.39494, 6.95526, -0.0857319, -7.39494, 6.95526, -0.0857319, -8.89494, 6.45526, -0.0857319, -9.14494, 2.95526, -0.0857319, -9.64494, 8.70526, -0.0857319, -9.14494, 8.70526, -0.0857319, -20.1449, 3.20526, -0.0857319, -7.39494, 3.45526, -0.0857319, -7.39494, 3.70526, -0.0857319, -9.14494, 7.20526, -0.0857319, -6.39494, 6.45526, -0.0857319, -5.89494, 35.7053, -0.0857319, -20.1449, 9.20526, -0.0857319, -8.89494, 8.95526, -0.0857319, -6.39494, 3.70526, -0.0857319, -5.89494, 2.95526, -0.0857319, -5.39494, 2.70526, -0.0857319, 8.85506, 2.20526, -0.0857319, 9.10506, 2.95526, -0.0857319, 11.6051, 4.45526, -0.0857319, 11.6051, 2.70526, -0.0857319, 5.10506, 1.20526, -0.0857319, 4.85506, 4.70526, -0.0857319, 12.6051, 35.7053, -0.0857319, 12.6051, 1.20526, -0.0857319, -5.39494, -0.0447407, 1.16427, -8.64494, -0.0447407, 1.16427, -6.39494, 2.20526, 1.16427, -6.39494, 2.20526, 1.16427, -8.64494, 4.45526, 0.914268, -8.14494, 4.45526, 0.914268, -6.89494, 5.70526, 0.914268, -6.89494, 5.70526, 0.914268, -8.14494, -0.794741, -0.0857319, -5.39494, -0.0447407, -0.0857319, 5.10506, -0.0447407, -0.0857319, 7.10506, -16.0447, -0.0857319, 7.10506, 0.955259, 0.664268, 5.85506, 0.955259, 1.16427, 8.10506, 1.70526, 1.16427, 8.10506, 1.70526, 0.664268, 5.85506, 2.45526, -0.0857319, 11.8551, 0.205259, -0.0857319, 9.10506, 2.45526, -0.0857319, 13.6051, -16.0447, -0.0857319, 32.1051, 3.70526, -0.0857319, 32.1051, 3.70526, -0.0857319, 13.8551, 7.20526, 1.91427, 11.6051, 7.20526, 1.91427, 12.1051, 7.70526, 1.91427, 12.1051, 7.70526, 1.91427, 11.6051, 4.70526, -0.0857319, 13.6051, 35.7053, -0.0857319, 32.1051)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(0, 4, 3), PackedInt32Array(3, 5, 0), PackedInt32Array(0, 5, 2), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 9), PackedInt32Array(9, 10, 11), PackedInt32Array(11, 10, 12), PackedInt32Array(12, 10, 2), PackedInt32Array(14, 13, 15), PackedInt32Array(15, 13, 10), PackedInt32Array(10, 1, 2), PackedInt32Array(11, 8, 9), PackedInt32Array(9, 15, 10), PackedInt32Array(7, 16, 6), PackedInt32Array(6, 16, 17), PackedInt32Array(19, 18, 20), PackedInt32Array(14, 21, 13), PackedInt32Array(13, 21, 22), PackedInt32Array(11, 12, 19), PackedInt32Array(19, 12, 18), PackedInt32Array(16, 20, 17), PackedInt32Array(23, 25, 24), PackedInt32Array(25, 23, 26), PackedInt32Array(26, 23, 27), PackedInt32Array(26, 27, 17), PackedInt32Array(26, 17, 20), PackedInt32Array(21, 17, 22), PackedInt32Array(22, 17, 27), PackedInt32Array(22, 27, 28), PackedInt32Array(26, 20, 29), PackedInt32Array(29, 20, 30), PackedInt32Array(30, 20, 18), PackedInt32Array(28, 31, 22), PackedInt32Array(35, 34, 32), PackedInt32Array(32, 34, 33), PackedInt32Array(39, 38, 36), PackedInt32Array(36, 38, 37), PackedInt32Array(28, 41, 31), PackedInt32Array(31, 41, 40), PackedInt32Array(41, 42, 40), PackedInt32Array(40, 42, 4), PackedInt32Array(4, 42, 3), PackedInt32Array(3, 42, 43), PackedInt32Array(47, 46, 44), PackedInt32Array(44, 46, 45), PackedInt32Array(48, 24, 25), PackedInt32Array(24, 48, 49), PackedInt32Array(49, 48, 50), PackedInt32Array(49, 50, 43), PackedInt32Array(43, 50, 52), PackedInt32Array(43, 52, 51), PackedInt32Array(43, 42, 49), PackedInt32Array(50, 53, 52), PackedInt32Array(57, 56, 54), PackedInt32Array(54, 56, 55), PackedInt32Array(53, 58, 52), PackedInt32Array(52, 58, 59), PackedInt32Array(59, 58, 30), PackedInt32Array(58, 29, 30)]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_qejwk"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5ax7r"]
albedo_color = Color(0.670588, 0.215686, 0.729412, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_s2mdy"]
albedo_color = Color(0, 0.65098, 0.905882, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_joy1c"]
albedo_color = Color(0.352941, 0.203922, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_eyxgl"]
albedo_color = Color(0.352941, 0.203922, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4lc55"]
albedo_color = Color(0, 0.0509804, 0.0784314, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_482ig"]
albedo_color = Color(0, 0.0509804, 0.0784314, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bygsx"]
albedo_color = Color(0, 0.0509804, 0.0784314, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tsfeg"]
albedo_color = Color(0, 0.0509804, 0.0784314, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_482ig"]
render_priority = 0
shader = ExtResource("3_482ig")
shader_parameter/affine_mapping = false
shader_parameter/albedo = ExtResource("6_bygsx")
shader_parameter/alpha_scissor = 0.5
shader_parameter/jitter = 0.25
shader_parameter/resolution = Vector2i(320, 240)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_bygsx"]
material = SubResource("ShaderMaterial_482ig")

[node name="boss_battle" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_noarx")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.396677, 0.304381, 0, 0.608761, 0.793353, -0.5, 0.687064, -0.527203, 0, 0, 0)
shadow_enabled = true
directional_shadow_split_1 = 0.657

[node name="player_3D" parent="." instance=ExtResource("1_qudg5")]
boss_path = NodePath("../boss")

[node name="MeshInstance3D" parent="player_3D" index="0"]
mesh = SubResource("CapsuleMesh_tsfeg")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0419728, -0.0293183, -0.0869086)
navigation_mesh = SubResource("NavigationMesh_fuej0")

[node name="floor" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(11.685, 0, 0, 0, 11.685, 0, 0, 0, 11.685, 9.81329, -0.679542, 5.92891)
use_collision = true
size = Vector3(4.51143, 0.0267334, 4.54837)
material = ExtResource("4_482ig")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/floor"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/floor/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_qejwk")

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.06212, -0.167703, -7.73398)
use_collision = true
size = Vector3(1.15189, 0.605957, 1.64066)
material = SubResource("StandardMaterial3D_5ax7r")

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.11384, -0.127176, -7.55281)
use_collision = true
size = Vector3(2.09177, 1.09619, 2.02467)
material = SubResource("StandardMaterial3D_s2mdy")

[node name="CSGBox3D3" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.04903, 0.000570741, -7.50277)
use_collision = true
size = Vector3(2.87516, 1.66467, 3.09073)
material = SubResource("StandardMaterial3D_joy1c")

[node name="CSGBox3D4" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 0.982038, 0.188684, 0, -0.188684, 0.982038, 1.32786, 0.355341, 7.0053)
use_collision = true
size = Vector3(1.33476, 0.284972, 3.09073)
material = SubResource("StandardMaterial3D_eyxgl")

[node name="CSGBox3D5" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.6166, 0.955585, 12.6118)
use_collision = true
size = Vector3(1.09955, 0.124023, 0.997528)
material = SubResource("StandardMaterial3D_eyxgl")

[node name="CSGBox3D6" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.65664, 1.82225, 15.8639)
use_collision = true
size = Vector3(0.755817, 0.164642, 0.756425)
material = SubResource("StandardMaterial3D_eyxgl")

[node name="CSGBox3D7" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.47648, 1.39093, 11.8321)
use_collision = true
size = Vector3(1.22066, 0.200011, 1.3354)
material = SubResource("StandardMaterial3D_eyxgl")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
use_collision = true

[node name="wall" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 35.9646, 3.0173, 5.85495)
use_collision = true
size = Vector3(0.343528, 7.12195, 52.3945)
material = SubResource("StandardMaterial3D_4lc55")

[node name="wall2" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.84003, 3.01016, 32.1683)
use_collision = true
size = Vector3(52.5982, 7.12195, 0.434998)
material = SubResource("StandardMaterial3D_482ig")

[node name="wall3" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.77572, 3.13911, -20.5213)
use_collision = true
size = Vector3(52.7399, 7.12195, 0.434998)
material = SubResource("StandardMaterial3D_bygsx")

[node name="wall4" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.3818, 3.0346, 5.85913)
use_collision = true
size = Vector3(0.343528, 7.12195, 52.2334)
material = SubResource("StandardMaterial3D_tsfeg")

[node name="boss" parent="." instance=ExtResource("2_qejwk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.7015, 0, -14.8098)
player_path = NodePath("../player_3D")

[node name="Skeleton3D" parent="boss/Armature" index="0"]
bones/0/position = Vector3(0.334714, 0.0925472, -77.615)
bones/0/rotation = Quaternion(-0.373167, 0.376127, -0.38459, 0.755887)
bones/1/rotation = Quaternion(0.130176, -0.0513608, -0.0725303, 0.9875)
bones/2/rotation = Quaternion(-0.0376978, 0.00247285, -0.0359643, 0.998639)
bones/3/rotation = Quaternion(0.0146643, -0.00247252, -0.0374892, 0.999186)
bones/4/rotation = Quaternion(-0.109256, -0.0864607, 0.0209413, 0.990025)
bones/5/rotation = Quaternion(-0.123477, -0.0885075, 0.0250556, 0.988075)
bones/7/rotation = Quaternion(-0.559183, -0.442246, 0.648664, -0.2664)
bones/8/rotation = Quaternion(0.331563, 0.492043, -0.0487204, 0.803483)
bones/9/rotation = Quaternion(0.00605041, 0.16586, 0.29362, 0.941404)
bones/10/rotation = Quaternion(-0.154474, -0.0918673, 0.298243, 0.937416)
bones/11/rotation = Quaternion(0.201565, -0.0453328, 0.285054, 0.935981)
bones/12/rotation = Quaternion(0.0747382, -0.104104, -0.00866366, 0.991717)
bones/13/position = Vector3(0.126511, 3.10186, 4.97772e-06)
bones/13/rotation = Quaternion(-0.0882872, 0.0892771, 0.271705, 0.954155)
bones/15/rotation = Quaternion(-0.0337694, 0.0678858, 0.115428, 0.990418)
bones/16/position = Vector3(0.00428963, 2.9921, 7.96265e-06)
bones/16/rotation = Quaternion(0.128892, -2.49428e-05, -0.0138585, 0.991562)
bones/17/rotation = Quaternion(0.046358, 1.04199e-05, -0.00506091, 0.998912)
bones/19/rotation = Quaternion(0.0764047, 0.0176176, 0.0498499, 0.995674)
bones/20/position = Vector3(0.00414151, 3.24319, 9.1197e-07)
bones/20/rotation = Quaternion(0.132121, -1.7063e-06, -0.0142359, 0.991131)
bones/21/rotation = Quaternion(0.0463383, 5.3143e-05, -0.00431257, 0.998917)
bones/22/position = Vector3(-0.00115091, 2.67323, -1.21482e-05)
bones/23/rotation = Quaternion(0.147342, -0.0355216, -0.0943952, 0.98393)
bones/24/position = Vector3(-0.00187898, 2.7664, 2.82723e-06)
bones/24/rotation = Quaternion(0.441033, 5.36572e-05, -0.0436596, 0.896428)
bones/25/position = Vector3(0.000980377, 2.74986, 2.22671e-06)
bones/25/rotation = Quaternion(0.328015, -0.000118659, -0.032824, 0.944102)
bones/27/rotation = Quaternion(0.147206, -0.103742, -0.134568, 0.974402)
bones/28/position = Vector3(-0.00244093, 2.48891, -2.3347e-06)
bones/28/rotation = Quaternion(0.434623, 0.000187839, -0.0422619, 0.89962)
bones/29/rotation = Quaternion(0.328057, -0.000139584, -0.0314883, 0.944133)
bones/30/position = Vector3(0.00265026, 1.87876, -5.88596e-06)
bones/31/rotation = Quaternion(0.678157, -0.345132, 0.525671, 0.380338)
bones/32/rotation = Quaternion(0.292664, 0.422204, -0.246518, 0.821779)
bones/33/position = Vector3(-2.32312e-06, 22.3932, -4.38028e-07)
bones/33/rotation = Quaternion(0.00769295, -0.196219, -0.345698, 0.917568)
bones/34/position = Vector3(-7.10815e-06, 24.9127, 3.49531e-06)
bones/34/rotation = Quaternion(-0.401484, -0.271658, 0.0361639, 0.873902)
bones/35/rotation = Quaternion(0.303671, 0.0694842, -0.255562, 0.915229)
bones/36/position = Vector3(0.668774, 3.25044, -1.89898e-06)
bones/36/rotation = Quaternion(-0.016854, 0.0526897, 0.0752611, 0.995628)
bones/37/rotation = Quaternion(-0.179723, 0.0869304, 0.0957433, 0.97518)
bones/38/position = Vector3(-0.567057, 2.42535, -1.13249e-06)
bones/39/rotation = Quaternion(-0.0675495, 0.00206768, -0.0385342, 0.996969)
bones/40/position = Vector3(-0.00761461, 3.02697, 3.16115e-06)
bones/40/rotation = Quaternion(0.0545487, -2.86521e-05, 0.0056202, 0.998495)
bones/41/position = Vector3(0.00161028, 2.76936, -3.39673e-06)
bones/41/rotation = Quaternion(0.0442087, 1.18116e-05, 0.00426288, 0.999013)
bones/43/rotation = Quaternion(0.0362862, -0.00095126, -0.0301208, 0.998887)
bones/44/position = Vector3(-0.0036758, 3.25825, -6.94672e-06)
bones/44/rotation = Quaternion(0.055157, -1.15024e-05, 0.00499682, 0.998465)
bones/45/position = Vector3(0.00170957, 3.05647, -1.15091e-05)
bones/45/rotation = Quaternion(0.0350531, -1.57043e-05, 0.00272779, 0.999382)
bones/47/rotation = Quaternion(0.204143, 0.0117187, 0.0377823, 0.978142)
bones/48/position = Vector3(-0.0017314, 2.74148, 4.68373e-06)
bones/48/rotation = Quaternion(0.188304, 1.64354e-05, 0.0147752, 0.982)
bones/49/rotation = Quaternion(0.221168, -7.52221e-05, 0.0170413, 0.975087)
bones/51/rotation = Quaternion(0.271118, 0.0406747, 0.142128, 0.951126)
bones/52/rotation = Quaternion(0.317061, 4.37761e-05, 0.0233748, 0.948117)
bones/53/rotation = Quaternion(0.496166, -0.000308869, 0.0354947, 0.867502)
bones/55/rotation = Quaternion(0.141305, 0.507313, 0.842919, 0.110246)
bones/56/rotation = Quaternion(-0.653395, -0.0465796, 0.0472583, 0.754103)
bones/57/rotation = Quaternion(0.739155, -0.218483, 0.00692616, 0.637077)
bones/58/rotation = Quaternion(0.292064, -0.0852237, 0.0226929, 0.952324)
bones/60/rotation = Quaternion(-0.102229, 0.539814, 0.742563, 0.383081)
bones/61/rotation = Quaternion(-0.160296, 0.0611652, -0.0322048, 0.984646)
bones/62/rotation = Quaternion(0.108959, 0.289589, -0.0230355, 0.95065)
bones/63/rotation = Quaternion(0.361233, 0.0583812, -0.0192597, 0.930447)

[node name="MeshInstance3D" parent="boss" index="7"]
transform = Transform3D(-0.9979, 0, -0.0647764, 0, 1, 0, 0.0647764, 0, -0.9979, 0.184, 0.741, -0.0790005)
mesh = SubResource("CapsuleMesh_bygsx")

[editable path="player_3D"]
[editable path="boss"]
